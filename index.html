<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>Community Blog Platform with Admin Controls</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    rel="stylesheet"
  />
  <style>
    body {
      font-family: "Inter", sans-serif;
      background-color: #f0f4f8;
    }
  </style>
  <meta
    name="description"
    content="Community Blog Platform where anyone can submit blogs and admins can remove blogs."
  />
</head>
<body class="text-gray-900 min-h-screen flex flex-col">
  <header class="bg-white shadow sticky top-0 z-50">
    <div
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16"
    >
      <a href="#" class="text-2xl font-bold text-indigo-600">Open-world Blog</a>
      <nav class="hidden md:flex space-x-8 font-semibold text-gray-700">
        <a href="#" class="hover:text-indigo-600 transition">Home</a>
        <a href="#submit-blog" class="hover:text-indigo-600 transition"
          >Submit Blog</a
        >
        <a href="#blogs" class="hover:text-indigo-600 transition">Blogs</a>
        <a href="#about" class="hover:text-indigo-600 transition">About</a>
        <a href="#contact" class="hover:text-indigo-600 transition">Contact</a>
        <button
          id="admin-login-btn"
          class="ml-6 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-4 py-1 rounded-md shadow-md transition"
          title="Admin Login"
          aria-pressed="false"
        >
          Admin Login
        </button>
        <button
          id="admin-logout-btn"
          class="ml-6 bg-red-600 hover:bg-red-700 text-white font-semibold px-4 py-1 rounded-md shadow-md transition hidden"
          title="Admin Logout"
          aria-pressed="false"
        >
          Admin Logout
        </button>
      </nav>
      <div class="md:hidden flex items-center space-x-4">
        <button
          aria-label="Toggle menu"
          class="text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-600"
          id="mobile-menu-button"
        >
          <i class="fas fa-bars fa-lg"></i>
        </button>
        <button
          id="admin-login-btn-mobile"
          class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-3 py-1 rounded-md shadow-md transition"
          title="Admin Login"
          aria-pressed="false"
        >
          Admin Login
        </button>
        <button
          id="admin-logout-btn-mobile"
          class="bg-red-600 hover:bg-red-700 text-white font-semibold px-3 py-1 rounded-md shadow-md transition hidden"
          title="Admin Logout"
          aria-pressed="false"
        >
          Admin Logout
        </button>
      </div>
    </div>
    <nav class="hidden md:hidden bg-white border-t border-gray-200" id="mobile-menu">
      <a
        href="#"
        class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 font-semibold"
        >Home</a
      >
      <a
        href="#submit-blog"
        class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 font-semibold"
        >Submit Blog</a
      >
      <a
        href="#blogs"
        class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 font-semibold"
        >Blogs</a
      >
      <a
        href="#about"
        class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 font-semibold"
        >About</a
      >
      <a
        href="#contact"
        class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 font-semibold"
        >Contact</a
      >
    </nav>
  </header>

  <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-10 mb-20">
    <section aria-label="Welcome section" class="mb-16 text-center">
      <h1 class="text-4xl font-extrabold text-indigo-600 mb-4">
        Welcome to Open-world Blog
      </h1>
      <p class="text-lg text-gray-700 max-w-3xl mx-auto">
        A community-driven blog platform where anyone can submit their stories,
        ideas, and experiences. Share your voice and read what others have to
        say!
      </p>
    </section>

    <section
      id="submit-blog"
      aria-label="Submit a new blog post"
      class="mb-20 max-w-3xl mx-auto bg-white rounded-lg shadow-md p-8"
    >
      <h2 class="text-2xl font-bold mb-6 text-gray-900">Submit Your Blog</h2>
      <form id="blog-form" class="space-y-6" novalidate>
        <div>
          <label
            for="author"
            class="block text-sm font-semibold text-gray-700 mb-1"
            >Author Name <span class="text-red-600">*</span></label
          >
          <input
            type="text"
            id="author"
            name="author"
            required
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="Your name"
          />
          <p class="mt-1 text-xs text-red-600 hidden" id="author-error">
            Please enter your name.
          </p>
        </div>

        <div>
          <label
            for="title"
            class="block text-sm font-semibold text-gray-700 mb-1"
            >Blog Title <span class="text-red-600">*</span></label
          >
          <input
            type="text"
            id="title"
            name="title"
            required
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="Title of your blog"
          />
          <p class="mt-1 text-xs text-red-600 hidden" id="title-error">
            Please enter a blog title.
          </p>
        </div>

        <div>
          <label
            for="content"
            class="block text-sm font-semibold text-gray-700 mb-1"
            >Blog Content <span class="text-red-600">*</span></label
          >
          <textarea
            id="content"
            name="content"
            rows="6"
            required
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-y"
            placeholder="Write your blog content here..."
          ></textarea>
          <p class="mt-1 text-xs text-red-600 hidden" id="content-error">
            Please enter blog content.
          </p>
        </div>

        <div>
          <label
            for="image"
            class="block text-sm font-semibold text-gray-700 mb-1"
            >Image URL (optional)</label
          >
          <input
            type="url"
            id="image"
            name="image"
            placeholder="https://example.com/image.jpg"
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
          />
          <p class="mt-1 text-xs text-red-600 hidden" id="image-error">
            Please enter a valid URL.
          </p>
        </div>

        <button
          type="submit"
          class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-3 rounded-md shadow-md transition"
        >
          Submit Blog
        </button>
      </form>
      <p
        id="form-success"
        class="mt-4 text-green-600 font-semibold hidden"
        role="alert"
      >
        Your blog has been submitted successfully!
      </p>
    </section>

    <section id="blogs" aria-label="Published blogs" class="max-w-7xl mx-auto">
      <h2 class="text-3xl font-bold mb-8 text-gray-900 text-center">
        Latest Blogs
      </h2>
      <div
        id="blogs-container"
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10"
      >
        <!-- Blog posts will be inserted here dynamically -->
      </div>
    </section>

    <section
      id="about"
      aria-label="About section"
      class="max-w-3xl mx-auto mt-20 mb-20 text-center text-gray-700"
    >
      <h2 class="text-2xl font-bold mb-4 text-gray-900">About Open-world Blog</h2>
      <p>
        Open-world Blog is a free community blog platform designed to empower
        everyone to share their stories and ideas. No sign-up required, just
        submit your blog and see it published instantly.
      </p>
    </section>

    <section
      id="contact"
      aria-label="Contact section"
      class="max-w-3xl mx-auto mb-20 text-center text-gray-700"
    >
      <h2 class="text-2xl font-bold mb-4 text-gray-900">Contact Us</h2>
      <p>
        For inquiries or support, please email us at
        <a
          href="mailto:youbarajnama@yahoo.com"
          class="text-indigo-600 hover:underline"
          >youbarajnama@yahoo.com</a
        >.
      </p>
    </section>
  </main>

  <footer class="bg-white border-t border-gray-200">
    <div
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 flex flex-col md:flex-row justify-between items-center text-gray-600 text-sm"
    >
      <p>Â© 2025 Open-world Blog. All rights reserved.</p>
      <div class="flex space-x-6 mt-4 md:mt-0">
        <a aria-label="Facebook" href="#" class="hover:text-indigo-600 transition"
          ><i class="fab fa-facebook fa-lg"></i
        ></a>
        <a aria-label="Twitter" href="#" class="hover:text-indigo-600 transition"
          ><i class="fab fa-twitter fa-lg"></i
        ></a>
        <a aria-label="Instagram" href="#" class="hover:text-indigo-600 transition"
          ><i class="fab fa-instagram fa-lg"></i
        ></a>
        <a aria-label="LinkedIn" href="#" class="hover:text-indigo-600 transition"
          ><i class="fab fa-linkedin fa-lg"></i
        ></a>
      </div>
    </div>
  </footer>

  <script>
    // Mobile menu toggle
    const menuButton = document.getElementById("mobile-menu-button");
    const mobileMenu = document.getElementById("mobile-menu");
    menuButton.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });

    // Admin login/logout buttons
    const adminLoginBtn = document.getElementById("admin-login-btn");
    const adminLogoutBtn = document.getElementById("admin-logout-btn");
    const adminLoginBtnMobile = document.getElementById("admin-login-btn-mobile");
    const adminLogoutBtnMobile = document.getElementById("admin-logout-btn-mobile");

    // Admin state stored in sessionStorage (cleared on tab close)
    const ADMIN_SESSION_KEY = "Open-world Blog_isAdmin";

    function isAdmin() {
      return sessionStorage.getItem(ADMIN_SESSION_KEY) === "true";
    }

    function setAdmin(value) {
      sessionStorage.setItem(ADMIN_SESSION_KEY, value ? "true" : "false");
      updateAdminUI();
    }

    function updateAdminUI() {
      const admin = isAdmin();

      // Show/hide admin buttons
      if (admin) {
        adminLoginBtn.classList.add("hidden");
        adminLoginBtnMobile.classList.add("hidden");
        adminLogoutBtn.classList.remove("hidden");
        adminLogoutBtnMobile.classList.remove("hidden");
      } else {
        adminLoginBtn.classList.remove("hidden");
        adminLoginBtnMobile.classList.remove("hidden");
        adminLogoutBtn.classList.add("hidden");
        adminLogoutBtnMobile.classList.add("hidden");
      }

      renderBlogs();
    }

    // Prompt for admin password (simple client-side check)
    function promptAdminLogin() {
      const password = prompt("Enter admin password:");
      // Change this password as needed
      const ADMIN_PASSWORD = "uvraj";
      if (password === ADMIN_PASSWORD) {
        setAdmin(true);
        alert("Admin mode enabled.");
      } else if (password !== null) {
        alert("Incorrect password.");
      }
    }

    adminLoginBtn.addEventListener("click", promptAdminLogin);
    adminLoginBtnMobile.addEventListener("click", promptAdminLogin);

    adminLogoutBtn.addEventListener("click", () => {
      setAdmin(false);
      alert("Admin mode disabled.");
    });
    adminLogoutBtnMobile.addEventListener("click", () => {
      setAdmin(false);
      alert("Admin mode disabled.");
    });

    // Blog storage key
    const STORAGE_KEY = "Open-world Blog_blogs";

    // Elements
    const blogForm = document.getElementById("blog-form");
    const blogsContainer = document.getElementById("blogs-container");
    const formSuccess = document.getElementById("form-success");

    // Error elements
    const authorError = document.getElementById("author-error");
    const titleError = document.getElementById("title-error");
    const contentError = document.getElementById("content-error");
    const imageError = document.getElementById("image-error");

    // Validate URL function
    function isValidUrl(string) {
      try {
        new URL(string);
        return true;
      } catch (_) {
        return false;
      }
    }

    // Load blogs from localStorage or initialize empty array
    function loadBlogs() {
      const blogsJSON = localStorage.getItem(STORAGE_KEY);
      if (!blogsJSON) return [];
      try {
        return JSON.parse(blogsJSON);
      } catch {
        return [];
      }
    }

    // Save blogs to localStorage
    function saveBlogs(blogs) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(blogs));
    }

    // Remove blog by index
    function removeBlog(index) {
      const blogs = loadBlogs();
      if (index < 0 || index >= blogs.length) return;
      blogs.splice(index, 1);
      saveBlogs(blogs);
      renderBlogs();
    }

// Create blog card element
function createBlogCard(blog, index) {
  const article = document.createElement("article");
  article.className =
    "bg-white rounded-lg shadow-md overflow-hidden flex flex-col relative";

  // Image or placeholder
  const img = document.createElement("img");
  img.className = "w-full h-48 object-cover";
  img.alt =
    blog.imageAlt ||
    `Image for blog titled "${blog.title}" by ${blog.author}`;
  img.loading = "lazy";
  img.height = 400;
  img.width = 600;

  // ðŸ‘‡ðŸ‘‡ THIS IS THE LINE YOU ASK ABOUT ðŸ‘‡ðŸ‘‡
  img.src = blog.imageUrl
    ? blog.imageUrl
    : "https://placehold.co/600x400?text=No+Image&font=inter&bg=ddd&txtclr=555";

  article.appendChild(img);
  ...
}

      const contentDiv = document.createElement("div");
      contentDiv.className = "p-6 flex flex-col flex-grow";

      const h3 = document.createElement("h3");
      h3.className = "text-xl font-semibold mb-2 text-gray-900";
      h3.textContent = blog.title;
      contentDiv.appendChild(h3);

      const p = document.createElement("p");
      p.className = "text-gray-700 flex-grow whitespace-pre-line";
      p.textContent = blog.content;
      contentDiv.appendChild(p);

      const metaDiv = document.createElement("div");
      metaDiv.className =
        "mt-4 flex items-center justify-between text-sm text-gray-500";

      const authorSpan = document.createElement("span");
      authorSpan.textContent = `By ${blog.author}`;
      metaDiv.appendChild(authorSpan);

      const timeElem = document.createElement("time");
      timeElem.dateTime = blog.date;
      const dateObj = new Date(blog.date);
      timeElem.textContent = dateObj.toLocaleDateString(undefined, {
        year: "numeric",
        month: "long",
        day: "numeric",
      });
      metaDiv.appendChild(timeElem);

      contentDiv.appendChild(metaDiv);

      article.appendChild(contentDiv);

      // If admin mode, add delete button
      if (isAdmin()) {
        const deleteBtn = document.createElement("button");
        deleteBtn.setAttribute("aria-label", `Delete blog titled ${blog.title}`);
        deleteBtn.className =
          "absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white rounded-full p-2 shadow-md transition focus:outline-none focus:ring-2 focus:ring-red-500";
        deleteBtn.innerHTML = '<i class="fas fa-trash-alt"></i>';
        deleteBtn.addEventListener("click", () => {
          if (
            confirm(
              `Are you sure you want to delete the blog titled "${blog.title}"?`
            )
          ) {
            removeBlog(index);
          }
        });
        article.appendChild(deleteBtn);
      }

      return article;
    }

    // Render all blogs
    function renderBlogs() {
      blogsContainer.innerHTML = "";
      const blogs = loadBlogs();
      if (blogs.length === 0) {
        const noBlogsMsg = document.createElement("p");
        noBlogsMsg.className = "text-center text-gray-500 col-span-full";
        noBlogsMsg.textContent = "No blogs submitted yet. Be the first!";
        blogsContainer.appendChild(noBlogsMsg);
        return;
      }
      // Sort blogs by date descending
      blogs.sort((a, b) => new Date(b.date) - new Date(a.date));
      blogs.forEach((blog, idx) => {
        const blogCard = createBlogCard(blog, idx);
        blogsContainer.appendChild(blogCard);
      });
    }

    // Clear error messages
    function clearErrors() {
      authorError.classList.add("hidden");
      titleError.classList.add("hidden");
      contentError.classList.add("hidden");
      imageError.classList.add("hidden");
    }

    // Validate form inputs
    function validateForm(data) {
      let valid = true;
      clearErrors();

      if (!data.author.trim()) {
        authorError.classList.remove("hidden");
        valid = false;
      }
      if (!data.title.trim()) {
        titleError.classList.remove("hidden");
        valid = false;
      }
      if (!data.content.trim()) {
        contentError.classList.remove("hidden");
        valid = false;
      }
      if (data.imageUrl.trim() && !isValidUrl(data.imageUrl.trim())) {
        imageError.classList.remove("hidden");
        valid = false;
      }
      return valid;
    }

    // On form submit
    blogForm.addEventListener("submit", (e) => {
      e.preventDefault();

      const formData = new FormData(blogForm);
      const author = formData.get("author").trim();
      const title = formData.get("title").trim();
      const content = formData.get("content").trim();
      const imageUrl = formData.get("image").trim();

      const blogData = {
        author,
        title,
        content,
        imageUrl,
        imageAlt: `Image for blog titled "${title}" by ${author}`,
        date: new Date().toISOString(),
      };

      if (!validateForm(blogData)) {
        return;
      }

      // Load existing blogs, add new one, save back
      const blogs = loadBlogs();
      blogs.push(blogData);
      saveBlogs(blogs);

      // Reset form and show success message
      blogForm.reset();
      formSuccess.classList.remove("hidden");

      // Hide success message after 4 seconds
      setTimeout(() => {
        formSuccess.classList.add("hidden");
      }, 4000);

      // Re-render blogs
      renderBlogs();

      // Scroll to blogs section
      document.getElementById("blogs").scrollIntoView({ behavior: "smooth" });
    });

    // Initial render and UI update
    updateAdminUI();
  </script>
</body>

</html>
